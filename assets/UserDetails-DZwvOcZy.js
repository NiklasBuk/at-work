import{j as e,a as d,u as g,d as j,e as v}from"./index-DEA51arC.js";import{u as w,a as f}from"./hooks-CyC6JdXf.js";const h=({title:t})=>e.jsx("p",{className:"category",children:t}),x="data:image/svg+xml,%3csvg%20width='10'%20height='10'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.06584%201.99469C9.35874%201.70179%209.35874%201.22692%209.06584%200.934025C8.77295%200.641132%208.29808%200.641132%208.00518%200.934025L4.99999%203.93922L1.99479%200.934026C1.70189%200.641133%201.22702%200.641132%200.934126%200.934026C0.641233%201.22692%200.641233%201.70179%200.934126%201.99469L3.93932%204.99989L0.934117%208.00509C0.641224%208.29799%200.641224%208.77286%200.934117%209.06575C1.22701%209.35865%201.70188%209.35865%201.99478%209.06575L4.99999%206.06054L8.00519%209.06575C8.29809%209.35865%208.77296%209.35865%209.06585%209.06575C9.35875%208.77286%209.35875%208.29799%209.06585%208.00509L6.06065%204.99989L9.06584%201.99469Z'%20fill='%23595959'/%3e%3c/svg%3e",o=({title:t,name:a,prop:n})=>{const[l,s]=d.useState(n);return e.jsxs("label",{className:"textfield_label",htmlFor:a,children:[t,e.jsxs("div",{className:"textfield_inner-wrapper",children:[e.jsx("input",{id:a,name:a,className:"textfield_input",value:l,onChange:m=>s(m.target.value.trim()),required:!0}),l&&e.jsx("span",{className:"textfield_input__clear-button",onClick:()=>s(""),children:e.jsx("img",{src:x,alt:"del"})})]})]})},C=({title:t})=>e.jsx("button",{className:"custom-button",children:t}),k="/assets/avatar-big-hbBgQ8Le.png",N="data:image/svg+xml,%3csvg%20width='61'%20height='60'%20viewBox='0%200%2061%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.1087%201.19075C24.9151%20-0.0170324%2036.085%20-0.0170324%2046.8914%201.19075C50.9487%201.6442%2054.5103%203.83827%2056.7633%207.02464L28.7501%2035.0378L20.1063%2026.394C19.0812%2025.3688%2017.4191%2025.3688%2016.394%2026.394C15.3688%2027.4191%2015.3688%2029.0811%2016.394%2030.1063L26.894%2040.6063C27.9191%2041.6314%2029.5812%2041.6314%2030.6063%2040.6063L59.0103%2012.2023C59.089%2012.5857%2059.1517%2012.9751%2059.1979%2013.3698C60.4902%2024.419%2060.4902%2035.5812%2059.1979%2046.6304C58.4459%2053.0598%2053.2838%2058.095%2046.8914%2058.8095C36.085%2060.0173%2024.9151%2060.0173%2014.1087%2058.8095C7.71635%2058.095%202.55421%2053.0598%201.80224%2046.6304C0.509931%2035.5812%200.509931%2024.419%201.80224%2013.3698C2.55421%206.94043%207.71636%201.90518%2014.1087%201.19075Z'%20fill='%23C6F4C6'/%3e%3c/svg%3e",L=({message:t,active:a,setActive:n})=>(d.useEffect(()=>{const l=setTimeout(()=>{a&&n(!1)},4e3);return()=>clearTimeout(l)},[a]),e.jsx("div",{className:a?"success_backdrop active":"success_backdrop",onClick:()=>n(!1),children:e.jsxs("div",{className:"success_message",children:[e.jsx("span",{className:"success_close-btn",onClick:()=>n(!1),children:e.jsx("img",{src:x,alt:"close"})}),e.jsx("img",{src:N,alt:"ok"}),e.jsx("span",{children:t})]})})),_="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.25%209H0.75'%20stroke='%23161616'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%2014.25L0.75%209L6%203.75'%20stroke='%23161616'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",b="data:image/svg+xml,%3csvg%20width='7'%20height='12'%20viewBox='0%200%207%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2011.25L0.75%206L6%200.75'%20stroke='%23161616'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",y=()=>{const t=g(),a=window.innerWidth;return e.jsxs("span",{className:"navigation",onClick:()=>t(-1),children:[e.jsx("img",{src:a>376?_:b,alt:"back"}),e.jsx("span",{children:"Назад"})]})},S=()=>{var p,u;const t=w(),{userId:a}=j(),[n,l]=d.useState(!1),s=f(c=>{var i,r;return(r=(i=c.users)==null?void 0:i.users)==null?void 0:r.active}).filter(c=>c.id===+a)[0];d.useEffect(()=>{document.title=`AT-WORK | User ${s==null?void 0:s.username}`},[]);const m=c=>{c.preventDefault();const i=new FormData(c.target),r={id:s.id,name:i.get("name")??s.name,username:i.get("username")??s.username,email:i.get("email")??s.email,address:{city:i.get("city")??s.address.city},phone:i.get("phone")??s.phone,company:{name:i.get("workname")??s.company.name}};t(v(r)),l(!0)};return e.jsxs("div",{className:"user-details",children:[n&&e.jsx(L,{message:"Изменения сохранены!",active:n,setActive:l}),e.jsx(y,{}),e.jsxs("div",{className:"user-details_container",children:[e.jsxs("div",{className:"user-details_field base-data",children:[e.jsx("div",{className:"user-details_avatar-container",children:e.jsx("img",{src:k,alt:"avatar"})}),e.jsxs("div",{className:"user-details_categoties",children:[e.jsx("h1",{children:"Данные профиля"}),e.jsxs("div",{className:"user-details_categories user-category",children:[e.jsx(h,{title:"Рабочее пространство"}),e.jsx(h,{title:"Приватность"}),e.jsx(h,{title:"Безопасность"})]})]})]}),e.jsxs("div",{className:"user-details_field profile-data",children:[e.jsx("h1",{children:"Данные профиля"}),e.jsxs("form",{onSubmit:m,children:[e.jsx(o,{title:"Имя",name:"name",prop:s==null?void 0:s.name}),e.jsx(o,{title:"Никнейм",name:"username",prop:s==null?void 0:s.username}),e.jsx(o,{title:"Почта",name:"email",prop:s==null?void 0:s.email}),e.jsx(o,{title:"Город",name:"city",prop:(p=s==null?void 0:s.address)==null?void 0:p.city}),e.jsx(o,{title:"Телефон",name:"phone",prop:s==null?void 0:s.phone}),e.jsx(o,{title:"Название компании",name:"workname",prop:(u=s==null?void 0:s.company)==null?void 0:u.name}),e.jsx(C,{title:"Сохранить",type:"submit"})]})]})]})]})};export{S as default};
